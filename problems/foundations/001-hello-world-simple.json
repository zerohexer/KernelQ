{
  "id": 1,
  "title": "Hello World - Your First Kernel Module",
  "phase": "foundations",
  "difficulty": 1,
  "xp": 10,
  "description": "Welcome to kernel programming! Create your very first kernel module - a simple \"Hello World\" program that runs inside the Linux kernel. This introduction uses just one file to keep things simple and help you understand the basics before moving to more advanced topics.",
  "mainFile": "hello.c",
  "files": [
    {
      "name": "hello.c",
      "content": "/* WELCOME TO KERNEL PROGRAMMING!\n *\n * What is this program?\n * - This is a \"kernel module\" - code that runs inside the Linux operating system\n * - Think of it like adding a small program to your computer's core brain\n * - When you load this module, it will print a message you can see with 'dmesg'\n * \n * Don't worry if you don't understand everything - just follow the TODOs!\n * Programming is learned by doing, step by step.\n */\n\n#include <linux/module.h>    /* For all kernel modules */\n#include <linux/kernel.h>    /* For printk() function */\n#include <linux/init.h>      /* For __init and __exit macros */\n\n/* TODO: Create the init function */\n/* This function runs when the module is loaded into memory */\n/* 'static' means only this file can use this function */\n/* 'int' means this function returns a number (0 = success) */\nstatic int __init hello_init(void)\n{\n    /* TODO: Print \"Hello World from kernel!\" using printk */\n    /* printk is like printf, but for kernel messages */\n    /* KERN_INFO means \"information level\" message */\n    /* \\n means \"new line\" (like pressing Enter) */\n    /* Use: printk(KERN_INFO \"Your message here\\n\"); */\n    \n    return 0;  /* Return 0 means \"success, everything worked!\" */\n}\n\n/* TODO: Create the exit function */\n/* This function runs when the module is unloaded from memory */\n/* 'void' means this function doesn't return anything */\nstatic void __exit hello_exit(void)\n{\n    /* TODO: Print \"Goodbye from kernel!\" using printk */\n    /* This lets us know the module was unloaded successfully */\n    /* Use: printk(KERN_INFO \"Your message here\\n\"); */\n}\n\n/* These lines tell the kernel which functions to call */\n/* They register your functions with the kernel */\nmodule_init(hello_init);   /* This registers the init function */\nmodule_exit(hello_exit);   /* This registers the exit function */\n\n/* Module information - these are required by the kernel */\n/* Think of these like a \"name tag\" for your module */\nMODULE_LICENSE(\"GPL\");     /* GPL is a common open source license */\nMODULE_AUTHOR(\"Student\");   /* That's you! */\nMODULE_DESCRIPTION(\"My first kernel module - Hello World\");\nMODULE_VERSION(\"1.0\");     /* Version 1.0 - your first try! */",
      "readOnly": false,
      "language": "c"
    },
    {
      "name": "Makefile",
      "content": "# Simple Makefile for hello world kernel module\nobj-m += hello.o\n\n# Kernel build directory\nKDIR := /lib/modules/$(shell uname -r)/build\n\n# Default target\nall:\n\tmake -C $(KDIR) M=$(PWD) modules\n\nclean:\n\tmake -C $(KDIR) M=$(PWD) clean\n\ninstall: all\n\tmake -C $(KDIR) M=$(PWD) modules_install\n\nhelp:\n\tmake -C $(KDIR) M=$(PWD) help\n\n.PHONY: all clean install help",
      "readOnly": true,
      "language": "makefile"
    },
    {
      "name": "BEGINNER_GUIDE.md",
      "content": "# Beginner's Guide to Your First Kernel Module\n\n## What You're Going to Do\n\nYou're going to write your first kernel module - a simple \"Hello World\" program that runs inside the Linux kernel. Your task is straightforward: add two print statements to the code.\n\nDon't worry if you've never programmed before. This guide gives you exactly what you need to complete this task. You can learn the deeper concepts later.\n\n---\n\n## Your Task: Add Two Lines of Code\n\nYou need to add printk statements in two places:\n\n**Step 1: Add printk to hello_init**\n\nFind this section in hello.c:\n\n```c\nstatic int __init hello_init(void)\n{\n    /* TODO: Print \"Hello World from kernel!\" using printk */\n    \n    return 0;\n}\n```\n\nAdd this line where the TODO is:\n\n```c\nprintk(KERN_INFO \"Hello World from kernel!\\n\");\n```\n\nSo it becomes:\n\n```c\nstatic int __init hello_init(void)\n{\n    printk(KERN_INFO \"Hello World from kernel!\\n\");\n    \n    return 0;\n}\n```\n\n**Step 2: Add printk to hello_exit**\n\nFind this section:\n\n```c\nstatic void __exit hello_exit(void)\n{\n    /* TODO: Print \"Goodbye from kernel!\" using printk */\n}\n```\n\nAdd this line where the TODO is:\n\n```c\nprintk(KERN_INFO \"Goodbye from kernel!\\n\");\n```\n\nSo it becomes:\n\n```c\nstatic void __exit hello_exit(void)\n{\n    printk(KERN_INFO \"Goodbye from kernel!\\n\");\n}\n```\n\n**Important: Type the messages exactly as shown**\n\n- \"Hello World from kernel!\" (exactly this text)\n- \"Goodbye from kernel!\" (exactly this text)\n- Include the `\\n` at the end (this means \"new line\")\n- Don't forget the semicolon `;` at the end\n\n---\n\n## Essential Syntax Rules\n\nWhen writing C code, you need to follow these rules:\n\n**Every statement ends with a semicolon**\n```c\nprintk(KERN_INFO \"Hello\\n\");  // Correct\nprintk(KERN_INFO \"Hello\\n\")   // Wrong - missing semicolon\n```\n\n**Text must be in quotes**\n```c\nprintk(KERN_INFO \"Hello\\n\");  // Correct\nprintk(KERN_INFO Hello\\n);     // Wrong - no quotes\n```\n\n**Spelling must be exact**\n```c\nprintk(KERN_INFO \"Hello\\n\");  // Correct\nprintf(KERN_INFO \"Hello\\n\");   // Wrong - it's printk not printf\n```\n\n---\n\n## What is printk?\n\nprintk is a function that prints messages from kernel code. It's similar to printf in regular C programs, but it works inside the Linux kernel.\n\nWhen you use printk, the message goes to the kernel log. You can see these messages using the dmesg command.\n\n**Format:**\n```c\nprintk(KERN_INFO \"Your message here\\n\");\n```\n\n- KERN_INFO means \"this is an informational message\"\n- The text in quotes is what gets printed\n- `\\n` creates a new line (like pressing Enter)\n\n---\n\n## Common Mistakes\n\nHere are the most common errors beginners make:\n\n**Mistake 1: Forgot the semicolon**\n```c\nprintk(KERN_INFO \"Hello\\n\")   // Missing semicolon - will not compile\n```\n\n**Mistake 2: Forgot the quotes around the message**\n```c\nprintk(KERN_INFO Hello\\n);     // Missing quotes - will not compile\n```\n\n**Mistake 3: Typo in the message**\n```c\nprintk(KERN_INFO \"Hello World form kernel!\\n\");  // \"form\" instead of \"from\"\n```\nThe message must match exactly: \"Hello World from kernel!\"\n\n**Mistake 4: Forgot the newline at the end**\n```c\nprintk(KERN_INFO \"Hello World from kernel!\");  // Missing \\n\n```\nAlways include `\\n` to create a new line.\n\n---\n\n## What Happens When You Run It\n\nWhen you submit your code:\n\n1. The system compiles your code into a kernel module file (hello.ko)\n2. The module is loaded into the kernel (like installing a plugin)\n3. Your hello_init() function runs automatically\n4. You see \"Hello World from kernel!\" in the kernel log\n5. The module is unloaded from the kernel\n6. Your hello_exit() function runs automatically\n7. You see \"Goodbye from kernel!\" in the kernel log\n\nThe test checks that both messages appear in the correct format.\n\n---\n\n## Quick Reference\n\n**What you need to add:**\n\nIn hello_init:\n```c\nprintk(KERN_INFO \"Hello World from kernel!\\n\");\n```\n\nIn hello_exit:\n```c\nprintk(KERN_INFO \"Goodbye from kernel!\\n\");\n```\n\n**Remember:**\n- Semicolon at the end\n- Text in quotes\n- Exact spelling\n- Include newline at the end\n\n---\n\n## Understanding Functions\n\n**What is a Function?**\n\nA function is a named block of code that performs a specific task. Think of it like a recipe - it has a name and a list of instructions.\n\nReal-world analogy:\n```\nFunction name: \"Make Coffee\"\nSteps:\n  1. Boil water\n  2. Add coffee grounds\n  3. Pour water\n  4. Wait 5 minutes\n```\n\nIn C:\n```c\nFunction name: hello_init\nSteps:\n{\n    printk(KERN_INFO \"Hello World from kernel!\\n\");\n    return 0;\n}\n```\n\n**Function Structure**\n\nLet's break down a function:\n\n```c\nstatic int __init hello_init(void)\n{\n    printk(KERN_INFO \"Hello World from kernel!\\n\");\n    return 0;\n}\n```\n\nParts:\n- `static` - This function is private to this file\n- `int` - This function returns an integer (whole number)\n- `__init` - Special kernel marker meaning \"runs at initialization\"\n- `hello_init` - The name of the function\n- `(void)` - This function takes no input parameters\n- `{ ... }` - The body of the function (the actual code)\n- `return 0;` - Return 0 to indicate success\n\n**What Does void Mean?**\n\nvoid means \"nothing\" or \"empty\".\n\nTwo ways you'll see it:\n\nFunction takes no input:\n```c\nstatic int hello_init(void)  // Takes nothing as input\n```\n\nFunction returns nothing:\n```c\nstatic void hello_exit(void)  // Returns nothing\n```\n\nThink of void as saying \"there's nothing here\".\n\n---\n\n## Understanding the Kernel\n\n**What is the Kernel?**\n\nThe kernel is the core of the operating system. It's the boss that controls everything in your computer.\n\nComputer layers:\n```\n    ┌──────────────────────────────┐\n    │  Applications (Browser, etc) │  <- User level\n    ├──────────────────────────────┤\n    │  Operating System (Linux)    │  <- System level\n    ├──────────────────────────────┤\n    │  KERNEL (The Boss)           │  <- We're here\n    ├──────────────────────────────┤\n    │  Hardware (CPU, Memory)      │  <- Physical level\n    └──────────────────────────────┘\n```\n\nWhat the kernel does:\n- Controls hardware (CPU, memory, disk, network)\n- Manages running programs\n- Handles files and security\n- Decides which programs get resources\n\n**What is a Kernel Module?**\n\nA kernel module is code you can add to the kernel without restarting the computer. It's like a plugin or extension.\n\nWhy kernel modules are useful:\n- Add features to the kernel dynamically\n- Load drivers for hardware\n- Extend kernel functionality\n- Can be loaded and unloaded on demand\n\nYour hello module:\n- Loads into the kernel\n- Prints a message\n- Unloads cleanly\n\n---\n\n## Understanding Your Code Line-by-Line\n\n**The Include Statements**\n\n```c\n#include <linux/module.h>\n#include <linux/kernel.h>\n#include <linux/init.h>\n```\n\nWhat is include?\n\ninclude tells the compiler to \"include code from another file\". Think of it like saying \"before you start, read these instruction manuals first.\"\n\nWhy we need these:\n- `<linux/module.h>` - Definitions for creating kernel modules\n- `<linux/kernel.h>` - Contains printk and other kernel functions\n- `<linux/init.h>` - Contains __init and __exit markers\n\n**The Init Function**\n\n```c\nstatic int __init hello_init(void)\n{\n    printk(KERN_INFO \"Hello World from kernel!\\n\");\n    return 0;\n}\n```\n\nWhen does this run?\n\nThis function runs once when the module is loaded into the kernel.\n\nWhat does it do?\n- Prints \"Hello World from kernel!\" to the kernel log\n- Returns 0 to indicate success\n\nWhy return 0?\n\nIn kernel programming:\n- 0 means \"success, everything is OK\"\n- Non-zero means \"error, something went wrong\"\n\n**The Exit Function**\n\n```c\nstatic void __exit hello_exit(void)\n{\n    printk(KERN_INFO \"Goodbye from kernel!\\n\");\n}\n```\n\nWhen does this run?\n\nThis function runs once when the module is unloaded from the kernel.\n\nWhat does it do?\n- Prints \"Goodbye from kernel!\" to the kernel log\n- Cleans up before the module is removed\n\nWhy no return?\n\nThe function is void, meaning it doesn't return a value. Exit functions don't need to return success/failure.\n\n**Registering Your Functions**\n\n```c\nmodule_init(hello_init);\nmodule_exit(hello_exit);\n```\n\nWhat do these do?\n\nThese lines tell the kernel:\n- \"When someone loads this module, call hello_init\"\n- \"When someone unloads this module, call hello_exit\"\n\nWithout these lines, the kernel wouldn't know which functions to call.\n\n**Module Metadata**\n\n```c\nMODULE_LICENSE(\"GPL\");\nMODULE_AUTHOR(\"Student\");\nMODULE_DESCRIPTION(\"My first kernel module - Hello World\");\nMODULE_VERSION(\"1.0\");\n```\n\nWhat are these?\n\nThese are information tags about your module. Think of them like a business card.\n\nEach line:\n- `MODULE_LICENSE(\"GPL\")` - The software license (GPL = open source). Required!\n- `MODULE_AUTHOR(\"Student\")` - Your name\n- `MODULE_DESCRIPTION(...)` - What the module does\n- `MODULE_VERSION(\"1.0\")` - Version number\n\nThe license is required - the kernel won't load modules without it.\n\n---\n\n## The Module Lifecycle\n\nHere's what happens step by step:\n\n**Loading the Module**\n\n```\n1. You run: insmod hello.ko\n   |\n   v\n2. Kernel receives the module file\n   |\n   v\n3. Kernel loads it into memory\n   |\n   v\n4. Kernel looks for module_init()\n   |\n   v\n5. Kernel calls hello_init()\n   |\n   v\n6. hello_init() runs:\n   - printk(\"Hello World from kernel!\\n\")\n   - returns 0\n   |\n   v\n7. Module is now loaded and active\n```\n\n**Unloading the Module**\n\n```\n1. You run: rmmod hello\n   |\n   v\n2. Kernel looks for module_exit()\n   |\n   v\n3. Kernel calls hello_exit()\n   |\n   v\n4. hello_exit() runs:\n   - printk(\"Goodbye from kernel!\\n\")\n   |\n   v\n5. Kernel removes module from memory\n   |\n   v\n6. Module is unloaded\n```\n\n---\n\n## Understanding printk Levels\n\nprintk has different \"levels\" to indicate how important a message is:\n\n```c\nKERN_EMERG   // Emergency - system is unusable\nKERN_ALERT   // Alert - action must be taken immediately\nKERN_CRIT    // Critical condition\nKERN_ERR     // Error condition\nKERN_WARNING // Warning condition\nKERN_NOTICE  // Normal but significant\nKERN_INFO    // Informational (we use this one)\nKERN_DEBUG   // Debug-level messages\n```\n\nWhy levels matter:\n\nThe kernel can filter messages by level. For example, you might want to see only errors and warnings, not informational messages.\n\nFor our hello world:\n\nWe use KERN_INFO because our messages are just informational - we're not reporting an error or warning.\n\n---\n\n## Glossary\n\n**C** - A programming language used for system programming\n\n**Compiler** - A program that translates your C code into machine code the computer can run\n\n**Function** - A named block of code that performs a specific task\n\n**Kernel** - The core part of the operating system that controls everything\n\n**Module** - Code that can be loaded into and unloaded from the kernel\n\n**printk** - A function that prints messages from kernel code\n\n**Return value** - The value a function gives back when it finishes\n\n**Semicolon** - The character that marks the end of a statement\n\n**Statement** - A single instruction in your code\n\n**String** - Text data (must be in quotes)\n\n**void** - Means \"nothing\" or \"empty\"\n\n---\n\n## Tips for Success\n\n- Type carefully - Spelling must be exact\n- Don't forget semicolons - Every statement needs one\n- Match the messages exactly - \"Hello World from kernel!\" and \"Goodbye from kernel!\"\n- Include the newline - Always end messages with `\\n`\n- Check your quotes - Text must be in double quotes\n\n---\n\n## You're Ready!\n\nYou now have everything you need to complete this exercise. Remember:\n\n1. Add `printk(KERN_INFO \"Hello World from kernel!\\n\");` to hello_init\n2. Add `printk(KERN_INFO \"Goodbye from kernel!\\n\");` to hello_exit\n3. Make sure you have semicolons and quotes\n4. Submit and run the tests\n\nDon't worry if you make mistakes - that's how everyone learns. The error messages will help you fix any problems.\n\nWelcome to kernel programming!\n",
      "readOnly": true,
      "language": "txt"
    }
  ],
  "concepts": [
    "kernel modules",
    "printk function",
    "module_init and module_exit",
    "basic kernel programming",
    "module lifecycle"
  ],
  "skills": [
    "Understanding kernel vs userspace",
    "Using printk for kernel output",
    "Creating init and exit functions",
    "Basic module structure",
    "Kernel module compilation"
  ],
  "validation": {
    "exactRequirements": {
      "functionNames": ["hello_init", "hello_exit"],
      "outputMessages": [
        "Hello World from kernel!",
        "Goodbye from kernel!"
      ],
      "requiredIncludes": ["linux/module.h", "linux/kernel.h", "linux/init.h"],
      "mustContain": ["printk", "KERN_INFO"],
      "moduleInfo": {
        "license": "GPL"
      }
    },
    "testCases": [
      {
        "id": "function_signatures_source",
        "name": "Function Signatures in Source File",
        "type": "code_analysis",
        "critical": true,
        "expectedSymbols": [
          "static int __init hello_init(void)",
          "static void __exit hello_exit(void)"
        ],
        "prohibitedSymbols": []
      },
      {
        "id": "kernel_functionality_test",
        "name": "Kernel Module Functionality Test",
        "type": "kernel_project_test",
        "critical": true,
        "testScenario": {
          "userspaceApps": [
            {
              "name": "hello_tester",
              "source": "#include <stdio.h>\\n#include <stdlib.h>\\n\\nint main() {\\n    printf(\\\"=== Hello World Module Test ===\\\\n\\\");\\n    \\n    printf(\\\"Test: Loading hello module...\\\\n\\\");\\n    system(\\\"insmod /lib/modules/hello.ko\\\");\\n    \\n    printf(\\\"Test: Unloading hello module...\\\\n\\\");\\n    system(\\\"rmmod hello\\\");\\n    \\n    printf(\\\"SUCCESS: Module load/unload completed\\\\n\\\");\\n    return 0;\\n}"
            }
          ],
          "testCommands": [
            "echo 'Testing kernel module compilation and basic functionality...'",
            "/bin/hello_tester",
            "echo 'Adding delay to ensure dmesg messages are written...'",
            "sleep 1",
            "echo 'Checking for kernel logging functionality...'",
            "dmesg | grep 'Hello World from kernel' && echo 'PASS: init function logging working' || echo 'FAIL: init function logging missing'",
            "dmesg | grep 'Goodbye from kernel' && echo 'PASS: exit function logging working' || echo 'FAIL: exit function logging missing'",
            "echo 'PASS: All kernel functionality tests completed'"
          ],
          "expected": {
            "dmesg": [
              "Hello World from kernel!",
              "Goodbye from kernel!"
            ],
            "stdout": [
              "Hello World Module Test",
              "SUCCESS: Module load/unload completed",
              "PASS: All kernel functionality tests completed"
            ]
          },
          "timeout": 10
        }
      },
      {
        "id": "exact_output",
        "name": "Function-Linked Output Messages",
        "type": "output_match",
        "critical": true,
        "expected": [
          { "pattern": "Hello World from kernel!", "exact": true, "linkedFunction": "static int __init hello_init(void)" },
          { "pattern": "Goodbye from kernel!", "exact": true, "linkedFunction": "static void __exit hello_exit(void)" }
        ]
      }
    ]
  }
}
